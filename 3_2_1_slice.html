<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js rust">
<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>åˆ‡ç‰‡ - Anatomy In First Rust Programming Class ğŸ¦€</title>


    <!-- Custom HTML head -->
    
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="description" content="ä»¥rustç¼–ç¨‹ç¬¬ä¸€è¯¾çš„ä»£ç ä¸ºä¾‹è¿›è¡ŒåŸºç¡€ä»£ç åˆ†æ">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff"/>

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="md-favicon.png">
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/general.css">
    <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="highlight.css">
    <link rel="stylesheet" href="tomorrow-night.css">
    <link rel="stylesheet" href="ayu-highlight.css">

    <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="assets/pagetoc/pagetoc_style.css">
        <link rel="stylesheet" href="assets/css/mdbook-admonish.css">

        <!-- MathJax -->
        <script async type="text/javascript"
                src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<!-- Provide site root to javascript -->
<script type="text/javascript">
    var path_to_root = "";
    var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
</script>

<!-- Work around some values being stored in localStorage wrapped in quotes -->
<script type="text/javascript">
    try {
        var theme = localStorage.getItem('mdbook-theme');
        var sidebar = localStorage.getItem('mdbook-sidebar');

        if (theme.startsWith('"') && theme.endsWith('"')) {
            localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
        }

        if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
            localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
        }
    } catch (e) {
    }
</script>

<!-- Set the theme before any content is loaded, prevents flash -->
<script type="text/javascript">
    var theme;
    try {
        theme = localStorage.getItem('mdbook-theme');
    } catch (e) {
    }
    if (theme === null || theme === undefined) {
        theme = default_theme;
    }
    var html = document.querySelector('html');
    html.classList.remove('no-js')
    html.classList.remove('rust')
    html.classList.add(theme);
    html.classList.add('js');
</script>

<!-- Hide / unhide sidebar before it is displayed -->
<script type="text/javascript">
    var html = document.querySelector('html');
    var sidebar = 'hidden';
    if (document.body.clientWidth >= 1080) {
        try {
            sidebar = localStorage.getItem('mdbook-sidebar');
        } catch (e) {
        }
        sidebar = sidebar || 'visible';
    }
    html.classList.remove('sidebar-visible');
    html.classList.add("sidebar-" + sidebar);
</script>

<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    <div class="sidebar-scrollbox">
        <ol class="chapter"><li class="chapter-item expanded "><a href="anatomy_logic.html"><strong aria-hidden="true">1.</strong> æºç é˜…è¯»é€»è¾‘</a></li><li class="chapter-item expanded "><a href="intro_gdb_lldb.html"><strong aria-hidden="true">2.</strong> gdb/lldbè°ƒè¯•æˆ–æŸ¥çœ‹å†…å­˜ç»“æ„</a></li><li class="chapter-item expanded "><a href="get_hands_dirty.html"><strong aria-hidden="true">3.</strong> get hands dirty</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="httpie.html"><strong aria-hidden="true">3.1.</strong> httpie</a></li><li class="chapter-item expanded "><a href="rgrep.html"><strong aria-hidden="true">3.2.</strong> rgrep</a></li><li class="chapter-item expanded "><a href="thumbor.html"><strong aria-hidden="true">3.3.</strong> thumbor</a></li><li class="chapter-item expanded "><a href="queryer.html"><strong aria-hidden="true">3.4.</strong> queryer</a></li></ol></li><li class="chapter-item expanded "><a href="rust_cores.html"><strong aria-hidden="true">4.</strong> Rustæ ¸å¿ƒæ·±å…¥</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1_stack_heap_ownership_lifetime_memory.html"><strong aria-hidden="true">4.1.</strong> I. ä»æ ˆå †ã€æ‰€æœ‰æƒã€ç”Ÿå‘½å‘¨æœŸå¼€å§‹å†…å­˜ç®¡ç†</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="1_1_stack_heap.html"><strong aria-hidden="true">4.1.1.</strong> ä»å †æ ˆå¼€å§‹</a></li><li class="chapter-item expanded "><a href="1_2_programming_basic_concepts.html"><strong aria-hidden="true">4.1.2.</strong> å››å¤§ç¼–ç¨‹åŸºç¡€æ¦‚å¿µ</a></li><li class="chapter-item expanded "><a href="1_3_ownership.html"><strong aria-hidden="true">4.1.3.</strong> æ‰€æœ‰æƒ</a></li><li class="chapter-item expanded "><a href="1_4_lifetime.html"><strong aria-hidden="true">4.1.4.</strong> ç”Ÿå‘½å‘¨æœŸ</a></li><li class="chapter-item expanded "><a href="1_5_go_through.html"><strong aria-hidden="true">4.1.5.</strong> ä»åˆ›å»ºåˆ°æ¶ˆäº¡</a></li></ol></li><li class="chapter-item expanded "><a href="2_type_system.html"><strong aria-hidden="true">4.2.</strong> II. ç±»å‹ç³»ç»Ÿ</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2_1_type_details.html"><strong aria-hidden="true">4.2.1.</strong> ç±»å‹ç³»ç»Ÿç‰¹ç‚¹</a></li><li class="chapter-item expanded "><a href="2_2_generic_overview.html"><strong aria-hidden="true">4.2.2.</strong> æ³›å‹æ¦‚è§ˆï¼šå°±åƒå‡½æ•°</a></li><li class="chapter-item expanded "><a href="2_3_trait_overview.html"><strong aria-hidden="true">4.2.3.</strong> traitæ¦‚è§ˆ</a></li><li class="chapter-item expanded "><a href="2_4_0_three_polymorphics.html"><strong aria-hidden="true">4.2.4.</strong> ä¸‰ç§å¤šæ€å½¢å¼</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="2_4_1_generic_usage.html"><strong aria-hidden="true">4.2.4.1.</strong> Generics: &lt;&gt;</a></li><li class="chapter-item "><a href="2_4_2_trait_impl.html"><strong aria-hidden="true">4.2.4.2.</strong> Trait impl/bound: self</a></li><li class="chapter-item "><a href="2_4_3_trait_object.html"><strong aria-hidden="true">4.2.4.3.</strong> Trait object: &self</a></li><li class="chapter-item "><a href="2_4_4_comprehensive_polymorphics.html"><strong aria-hidden="true">4.2.4.4.</strong> å¤æ‚å¤šæ€ç»¼åˆä½¿ç”¨å®ä¾‹</a></li></ol></li><li class="chapter-item expanded "><a href="2_5_trait_frequently.html"><strong aria-hidden="true">4.2.5.</strong> å¸¸ç”¨trait</a></li><li class="chapter-item expanded "><a href="2_6_trait_design.html"><strong aria-hidden="true">4.2.6.</strong> Traitè®¾è®¡</a></li></ol></li><li class="chapter-item expanded "><a href="3_data_structure.html"><strong aria-hidden="true">4.3.</strong> III. æ•°æ®ç»“æ„</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="3_1_smart_pointer.html"><strong aria-hidden="true">4.3.1.</strong> æ™ºèƒ½æŒ‡é’ˆ</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="3_1_1_box.html"><strong aria-hidden="true">4.3.1.1.</strong> Box</a></li><li class="chapter-item "><a href="3_1_2_cow.html"><strong aria-hidden="true">4.3.1.2.</strong> Cow&lt;'a, B&gt;</a></li><li class="chapter-item "><a href="3_1_3_mutex_guard.html"><strong aria-hidden="true">4.3.1.3.</strong> MutexGuard&lt;'_, T&gt;</a></li></ol></li><li class="chapter-item expanded "><a href="3_2_containers.html"><strong aria-hidden="true">4.3.2.</strong> é›†åˆå®¹å™¨</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="3_2_1_slice.html" class="active"><strong aria-hidden="true">4.3.2.1.</strong> åˆ‡ç‰‡</a></li><li class="chapter-item "><a href="3_2_2_hashmap.html"><strong aria-hidden="true">4.3.2.2.</strong> å“ˆå¸Œè¡¨</a></li></ol></li><li class="chapter-item expanded "><a href="3_3_error_handling.html"><strong aria-hidden="true">4.3.3.</strong> é”™è¯¯å¤„ç†</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="3_3_1_error_content.html"><strong aria-hidden="true">4.3.3.1.</strong> é”™è¯¯å¤„ç†å†…å®¹å’Œä¸»æµæ–¹æ³•</a></li><li class="chapter-item "><a href="3_3_2_rust_error_handling.html"><strong aria-hidden="true">4.3.3.2.</strong> Rustå¦‚ä½•å¤„ç†é”™è¯¯: ?/unwarp/expect</a></li></ol></li><li class="chapter-item expanded "><a href="3_4_closure.html"><strong aria-hidden="true">4.3.4.</strong> é—­åŒ…</a></li></ol></li><li class="chapter-item expanded "><a href="4_macros.html"><strong aria-hidden="true">4.4.</strong> IV. å®ç¼–ç¨‹</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="4_1_macros_classify.html"><strong aria-hidden="true">4.4.1.</strong> å®åˆ†ç±»</a></li><li class="chapter-item expanded "><a href="4_2_declarative_macros.html"><strong aria-hidden="true">4.4.2.</strong> å£°æ˜å®</a></li><li class="chapter-item expanded "><a href="4_3_procedural_macros.html"><strong aria-hidden="true">4.4.3.</strong> è¿‡ç¨‹å®</a></li></ol></li><li class="chapter-item expanded "><a href="5_concurrency_async.html"><strong aria-hidden="true">4.5.</strong> V. å¹¶å‘ä¸å¼‚æ­¥</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="5_1_concurrency_primitives.html"><strong aria-hidden="true">4.5.1.</strong> å¹¶å‘åŸè¯­(Concurrency Primitives)</a></li><li class="chapter-item expanded "><a href="5_2_future_async_await.html"><strong aria-hidden="true">4.5.2.</strong> å¼‚æ­¥ï¼šFuture/Async/Await</a></li><li class="chapter-item expanded "><a href="5_3_deepin_async_await.html"><strong aria-hidden="true">4.5.3.</strong> æ·±å…¥async/await</a></li></ol></li><li class="chapter-item expanded "><a href="6_unsafe_ffi.html"><strong aria-hidden="true">4.6.</strong> VI. æ··åˆç¼–ç¨‹</a></li></ol></li><li class="chapter-item expanded "><a href="kv_server_design.html"><strong aria-hidden="true">5.</strong> kv serverè®¾è®¡ä¸å®ç°</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="kv1_basic.html"><strong aria-hidden="true">5.1.</strong> åŸºæœ¬æµç¨‹</a></li><li class="chapter-item expanded "><a href="kv2_protocols.html"><strong aria-hidden="true">5.2.</strong> å®ç°å¹¶éªŒè¯åè®®å±‚</a></li><li class="chapter-item expanded "><a href="kv3_advanced_traits.html"><strong aria-hidden="true">5.3.</strong> é«˜çº§traitæ”¹é€ </a></li><li class="chapter-item expanded "><a href="kv4_network.html"><strong aria-hidden="true">5.4.</strong> ç½‘ç»œå¤„ç†</a></li><li class="chapter-item expanded "><a href="kv5_network_security.html"><strong aria-hidden="true">5.5.</strong> ç½‘ç»œå®‰å…¨</a></li><li class="chapter-item expanded "><a href="kv6_async_refactor.html"><strong aria-hidden="true">5.6.</strong> å¼‚æ­¥æ”¹é€ </a></li><li class="chapter-item expanded "><a href="kv7_big_refactor.html"><strong aria-hidden="true">5.7.</strong> é‡å¤§é‡æ„</a></li><li class="chapter-item expanded "><a href="kv8_config_ci_cd.html"><strong aria-hidden="true">5.8.</strong> é…ç½®ã€æµ‹è¯•ã€ç›‘æ§ã€CI/CD</a></li></ol></li><li class="chapter-item expanded "><a href="custom_axum_async_web_framework.html"><strong aria-hidden="true">6.</strong> æ„å»ºè‡ªå·±çš„ç±»axumå¼‚æ­¥Webæ¡†æ¶</a></li><li class="chapter-item expanded affix "><a href="checklist.html">Checklist</a></li></ol>
    </div>
    <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
</nav>

<div id="page-wrapper" class="page-wrapper">

    <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
        <div id="menu-bar" class="menu-bar sticky bordered">
            <div class="left-buttons">
                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                        aria-label="Toggle Table of Contents" aria-controls="sidebar">
                    <i class="fa fa-bars"></i>
                </button>
                <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                        aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>
                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none">
                        <button role="menuitem" class="theme" id="light">Light</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="rust">Rust (default)</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="coal">Coal</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="navy">Navy</button>
                    </li>
                    <li role="none">
                        <button role="menuitem" class="theme" id="ayu">Ayu</button>
                    </li>
                </ul>
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
            </div>

            <h1 class="menu-title">Anatomy In First Rust Programming Class ğŸ¦€</h1>
            <h4 class="menu-bar"><a href="https://kuanhsiaokuo.github.io/think-tool-kit/">ä¿æŒæ‰¹åˆ¤ï¼Œæœ‰æ‰€å–èˆï¼ŒçŸ¥è¡Œåˆä¸€, æ–¹è§çœŸæˆ‘</a> -- ç»ƒæ­¦ä¸ç»ƒåŠŸ
                åˆ°å¤´ä¸€åœºç©º -- ã€Šèµ›åšè‹±é›„ä¼ ã€‹ </h4>
            <div class="right-buttons">
                    <a href="print.html" title="Print this book" aria-label="Print this book">
                        <i id="print-button" class="fa fa-print"></i>
                    </a>
                    <a href="https://github.com/KuanHsiaoKuo/geektime-tyr-rust.git" title="Git repository" aria-label="Git repository">
                        <i id="git-repository-button" class="fa fa-rust"></i>
                    </a>
            </div>
        </div>

            <div id="search-wrapper" class="hidden">
                <form id="searchbar-outer" class="searchbar-outer">
                    <input type="search" name="search" id="searchbar" name="searchbar"
                           placeholder="Search this book ..." aria-controls="searchresults-outer"
                           aria-describedby="searchresults-header">
                </form>
                <div id="searchresults-outer" class="searchresults-outer hidden">
                    <div id="searchresults-header" class="searchresults-header"></div>
                    <ul id="searchresults">
                    </ul>
                </div>
            </div>

        <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
        <script type="text/javascript">
            document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
            document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
            Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
            });
        </script>

        <div id="content" class="content">
            <main>

                <!-- Page table of contents -->
                <div class="sidetoc">
                    <nav class="pagetoc"></nav>
                </div>
                <h1 id="åˆ‡ç‰‡"><a class="header" href="#åˆ‡ç‰‡">åˆ‡ç‰‡</a></h1>
<!--ts-->
<ul>
<li><a href="#%E5%88%87%E7%89%87">åˆ‡ç‰‡</a>
<ul>
<li><a href="#%E5%88%87%E7%89%87%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88">åˆ‡ç‰‡åˆ°åº•æ˜¯ä»€ä¹ˆ</a>
<ul>
<li><a href="#%E5%88%87%E7%89%87%E7%9A%84%E4%B8%89%E4%B8%AA%E7%89%B9%E7%82%B9">åˆ‡ç‰‡çš„ä¸‰ä¸ªç‰¹ç‚¹</a></li>
<li><a href="#%E5%88%87%E7%89%87%E7%9A%84%E4%B8%89%E7%A7%8D%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F">åˆ‡ç‰‡çš„ä¸‰ç§è®¿é—®æ–¹å¼</a></li>
<li><a href="#%E5%88%87%E7%89%87%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%9A%84%E5%85%B3%E7%B3%BB">åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»</a></li>
<li><a href="#%E5%B8%B8%E7%94%A8%E5%88%87%E7%89%87%E5%AF%B9%E6%AF%94%E5%9B%BE">å¸¸ç”¨åˆ‡ç‰‡å¯¹æ¯”å›¾</a></li>
</ul>
</li>
<li><a href="#array-vs-vector">array vs vector</a></li>
<li>[Vec&lt;T&gt; å’Œ &amp;[T]](#vect-å’Œ-t)</li>
<li><a href="#%E8%A7%A3%E5%BC%95%E7%94%A8%E8%BD%AC%E4%B8%BA%E5%88%87%E7%89%87%E7%B1%BB%E5%9E%8B">è§£å¼•ç”¨ï¼šè½¬ä¸ºåˆ‡ç‰‡ç±»å‹</a></li>
<li><a href="#%E5%88%87%E7%89%87%E5%92%8C%E8%BF%AD%E4%BB%A3%E5%99%A8-iterator">åˆ‡ç‰‡å’Œè¿­ä»£å™¨ Iterator</a></li>
<li><a href="#%E7%89%B9%E6%AE%8A%E7%9A%84%E5%88%87%E7%89%87str">ç‰¹æ®Šçš„åˆ‡ç‰‡ï¼š&amp;str</a></li>
<li>[Box&lt;[T]&gt;](#boxt)</li>
</ul>
</li>
</ul>
<!-- Created by https://github.com/ekalinin/github-markdown-toc -->
<!-- Added by: runner, at: Sun Oct 23 06:38:27 UTC 2022 -->
<!--te-->
<h2 id="åˆ‡ç‰‡åˆ°åº•æ˜¯ä»€ä¹ˆ"><a class="header" href="#åˆ‡ç‰‡åˆ°åº•æ˜¯ä»€ä¹ˆ">åˆ‡ç‰‡åˆ°åº•æ˜¯ä»€ä¹ˆ</a></h2>
<h3 id="åˆ‡ç‰‡çš„ä¸‰ä¸ªç‰¹ç‚¹"><a class="header" href="#åˆ‡ç‰‡çš„ä¸‰ä¸ªç‰¹ç‚¹">åˆ‡ç‰‡çš„ä¸‰ä¸ªç‰¹ç‚¹</a></h3>
<details id="admonition-1-åŒä¸€ç±»å‹é•¿åº¦ä¸ç¡®å®šçš„åœ¨å†…å­˜ä¸­è¿ç»­å­˜æ”¾çš„æ•°æ®ç»“æ„" class="admonition tip">
<summary class="admonition-title">
<ol>
<li>åŒä¸€ç±»å‹ã€é•¿åº¦ä¸ç¡®å®šçš„ã€åœ¨å†…å­˜ä¸­è¿ç»­å­˜æ”¾çš„æ•°æ®ç»“æ„</li>
</ol>
<p><a class="admonition-anchor-link" href="#admonition-1-åŒä¸€ç±»å‹é•¿åº¦ä¸ç¡®å®šçš„åœ¨å†…å­˜ä¸­è¿ç»­å­˜æ”¾çš„æ•°æ®ç»“æ„"></a></p>
</summary>
<div>
<p>åœ¨ Rust é‡Œï¼Œåˆ‡ç‰‡æ˜¯æè¿°ä¸€ç»„å±äºåŒä¸€ç±»å‹ã€é•¿åº¦ä¸ç¡®å®šçš„ã€åœ¨å†…å­˜ä¸­è¿ç»­å­˜æ”¾çš„æ•°æ®ç»“ æ„ï¼Œç”¨ [T] æ¥è¡¨è¿°ã€‚å› ä¸ºé•¿åº¦ä¸ç¡®å®šï¼Œæ‰€ä»¥åˆ‡ç‰‡æ˜¯ä¸ª DSTï¼ˆDynamically Sized Typeï¼‰ã€‚</p>
</div>
</details>
<h3 id="åˆ‡ç‰‡çš„ä¸‰ç§è®¿é—®æ–¹å¼"><a class="header" href="#åˆ‡ç‰‡çš„ä¸‰ç§è®¿é—®æ–¹å¼">åˆ‡ç‰‡çš„ä¸‰ç§è®¿é—®æ–¹å¼</a></h3>
<details id="admonition-2-åˆ‡ç‰‡ä¸èƒ½ç›´æ¥è®¿é—®éœ€è¦é€šè¿‡å¼•ç”¨è®¿é—®æœ‰ä¸‰ç§è®¿é—®æ–¹å¼" class="admonition tip">
<summary class="admonition-title">
<ol start="2">
<li>åˆ‡ç‰‡ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œéœ€è¦é€šè¿‡å¼•ç”¨è®¿é—®ã€‚æœ‰ä¸‰ç§è®¿é—®æ–¹å¼ï¼š</li>
</ol>
<p><a class="admonition-anchor-link" href="#admonition-2-åˆ‡ç‰‡ä¸èƒ½ç›´æ¥è®¿é—®éœ€è¦é€šè¿‡å¼•ç”¨è®¿é—®æœ‰ä¸‰ç§è®¿é—®æ–¹å¼"></a></p>
</summary>
<div>
<p>åˆ‡ç‰‡ä¸€èˆ¬åªå‡ºç°åœ¨æ•°æ®ç»“æ„çš„å®šä¹‰ä¸­ï¼Œä¸èƒ½ç›´æ¥è®¿é—®ï¼Œåœ¨ä½¿ç”¨ä¸­ä¸»è¦ç”¨ä»¥ä¸‹å½¢å¼ï¼š</p>
<ul>
<li>
<p>&amp;[T]ï¼šè¡¨ç¤ºä¸€ä¸ªåªè¯»çš„åˆ‡ç‰‡å¼•ç”¨ã€‚</p>
</li>
<li>
<p>&amp;mut [T]ï¼šè¡¨ç¤ºä¸€ä¸ªå¯å†™çš„åˆ‡ç‰‡å¼•ç”¨ã€‚</p>
</li>
<li>
<p>Box&lt;[T]&gt;ï¼šä¸€ä¸ªåœ¨å †ä¸Šåˆ†é…çš„åˆ‡ç‰‡ã€‚</p>
</li>
</ul>
</div>
</details>
<h3 id="åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»"><a class="header" href="#åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»">åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»</a></h3>
<blockquote>
<p>æ€ä¹ˆç†è§£åˆ‡ç‰‡å‘¢ï¼Ÿæˆ‘æ‰“ä¸ªæ¯”æ–¹ï¼Œåˆ‡ç‰‡ä¹‹äºå…·ä½“çš„æ•°æ®ç»“æ„ï¼Œå°±åƒæ•°æ®åº“ä¸­çš„è§†å›¾ä¹‹äºè¡¨ã€‚
ä½ å¯ä»¥æŠŠå®ƒçœ‹æˆä¸€ç§å·¥å…·ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç»Ÿä¸€è®¿é—®è¡Œä¸ºç›¸åŒã€ç»“æ„ç±»ä¼¼ä½†æœ‰äº›è®¸å·®å¼‚çš„ç±» å‹ã€‚</p>
</blockquote>
<details id="admonition-3-ä¸¾ä¾‹åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»" class="admonition tip">
<summary class="admonition-title">
<ol start="3">
<li>ä¸¾ä¾‹åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»</li>
</ol>
<p><a class="admonition-anchor-link" href="#admonition-3-ä¸¾ä¾‹åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»"></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust  editable">fn main() {
    let arr = [1, 2, 3, 4, 5];
    let vec = vec![1, 2, 3, 4, 5];
    let s1 = &amp;arr[1..3];
    let s2 = &amp;vec[1..3];
    println!(&quot;s1: {:?}, s2: {:?}&quot;, s1, s2);

    // &amp;[T] å’Œ &amp;[T] æ˜¯å¦ç›¸ç­‰å–å†³äºé•¿åº¦å’Œå†…å®¹æ˜¯å¦ç›¸ç­‰
    assert_eq!(s1, s2);
    // &amp;[T] å¯ä»¥å’Œ Vec&lt;T&gt;/[T;n] æ¯”è¾ƒï¼Œä¹Ÿä¼šçœ‹é•¿åº¦å’Œå†…å®¹
    assert_eq!(&amp;arr[..], vec);
    assert_eq!(&amp;vec[..], arr);
}
</code></pre></pre>
<ol>
<li>å¯¹äº array å’Œ vectorï¼Œè™½ç„¶æ˜¯ä¸åŒçš„æ•°æ®ç»“æ„ï¼Œä¸€ä¸ªæ”¾åœ¨æ ˆä¸Šï¼Œä¸€ä¸ªæ”¾åœ¨å †ä¸Šï¼Œä½†å®ƒä»¬çš„ åˆ‡ç‰‡æ˜¯ç±»ä¼¼çš„ï¼›</li>
<li>è€Œä¸”å¯¹äºç›¸åŒå†…å®¹æ•°æ®çš„ç›¸åŒåˆ‡ç‰‡ï¼Œæ¯”å¦‚ &amp;arr[1â€¦3] å’Œ &amp;vec[1â€¦3]ï¼Œè¿™ ä¸¤è€…æ˜¯ç­‰ä»·çš„ã€‚</li>
<li>é™¤æ­¤ä¹‹å¤–ï¼Œåˆ‡ç‰‡å’Œå¯¹åº”çš„æ•°æ®ç»“æ„ä¹Ÿå¯ä»¥ç›´æ¥æ¯”è¾ƒï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬ä¹‹é—´å® ç°äº† PartialEq trait</li>
</ol>
</div>
</details>
<details id="admonition-31-åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»å›¾" class="admonition tip">
<summary class="admonition-title">
<p>3.1 åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»å›¾</p>
<p><a class="admonition-anchor-link" href="#admonition-31-åˆ‡ç‰‡ä¸æ•°æ®çš„å…³ç³»å›¾"></a></p>
</summary>
<div>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/16%EF%BD%9C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9AVecT%E3%80%81%5BT%5D%E3%80%81Box%5BT%5D%20%EF%BC%8C%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8%E4%B9%88%EF%BC%9F-4785008.jpg" alt="åˆ‡ç‰‡ä¸å…·ä½“æ•°æ®çš„å…³ç³»" /></p>
</div>
</details>
<h3 id="å¸¸ç”¨åˆ‡ç‰‡å¯¹æ¯”å›¾"><a class="header" href="#å¸¸ç”¨åˆ‡ç‰‡å¯¹æ¯”å›¾">å¸¸ç”¨åˆ‡ç‰‡å¯¹æ¯”å›¾</a></h3>
<p>ä¸‹å›¾æè¿°äº†åˆ‡ç‰‡å’Œæ•°ç»„ [T;n]ã€åˆ—è¡¨ Vec<T>ã€åˆ‡ç‰‡å¼•ç”¨ &amp;[T] /&amp;mut [T]ï¼Œä»¥åŠåœ¨å †ä¸Šåˆ†é…çš„åˆ‡ç‰‡ Box&lt;[T]&gt; ä¹‹é—´çš„å…³ç³»ã€‚</p>
<blockquote>
<p>å»ºè®®èŠ±äº›æ—¶é—´ç†è§£è¿™å¼ å›¾ï¼Œä¹Ÿå¯ä»¥ç”¨ç›¸åŒçš„æ–¹å¼å»æ€»ç»“å­¦åˆ°çš„å…¶ä»–æœ‰å…³è”çš„æ•°æ®ç»“æ„ã€‚</p>
</blockquote>
<details id="admonition-strtnvectmuttçš„åŒºåˆ«ä¸è”ç³»å›¾" class="admonition info">
<summary class="admonition-title">
<p>&amp;strã€[T;n]ã€Vec<T>ã€&amp;[T]ã€&amp;mut[T]çš„åŒºåˆ«ä¸è”ç³»å›¾ </p>
<p><a class="admonition-anchor-link" href="#admonition-strtnvectmuttçš„åŒºåˆ«ä¸è”ç³»å›¾"></a></p>
</summary>
<div>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/16%EF%BD%9C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9AVecT%E3%80%81%5BT%5D%E3%80%81Box%5BT%5D%20%EF%BC%8C%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8%E4%B9%88%EF%BC%9F-4867546.jpg" alt="" /></p>
</div>
</details>
<h2 id="array-vs-vector"><a class="header" href="#array-vs-vector">array vs vector</a></h2>
<details id="admonition-æ¥å‰é¢çš„ä¾‹å­å†æ¬¡è¯´æ˜arrayå’Œvectorçš„åŒºåˆ«ä¸è”ç³»" class="admonition info">
<summary class="admonition-title">
<p>æ¥å‰é¢çš„ä¾‹å­ï¼Œå†æ¬¡è¯´æ˜arrayå’Œvectorçš„åŒºåˆ«ä¸è”ç³»</p>
<p><a class="admonition-anchor-link" href="#admonition-æ¥å‰é¢çš„ä¾‹å­å†æ¬¡è¯´æ˜arrayå’Œvectorçš„åŒºåˆ«ä¸è”ç³»"></a></p>
</summary>
<div>
<p>å¯¹äº array å’Œ vectorï¼Œè™½ç„¶æ˜¯ä¸åŒçš„æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li>ä¸€ä¸ªæ”¾åœ¨æ ˆä¸Š</li>
<li>ä¸€ä¸ªæ”¾åœ¨å †ä¸Š</li>
</ul>
<blockquote>
<p>ä½†å®ƒä»¬çš„åˆ‡ç‰‡æ˜¯ç±»ä¼¼çš„, è€Œä¸”å¯¹äºç›¸åŒå†…å®¹æ•°æ®çš„ç›¸åŒåˆ‡ç‰‡</p>
</blockquote>
<ul>
<li>æ¯”å¦‚ &amp;arr[1â€¦3] å’Œ &amp;vec[1â€¦3]ï¼Œè¿™ä¸¤è€…æ˜¯ç­‰ä»·çš„ã€‚</li>
<li>é™¤æ­¤ä¹‹å¤–ï¼Œåˆ‡ç‰‡å’Œå¯¹åº”çš„æ•°æ®ç»“æ„ä¹Ÿå¯ä»¥ç›´æ¥æ¯”è¾ƒï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬ä¹‹é—´å®ç°äº† PartialEq traitï¼ˆæºç å‚è€ƒèµ„æ–™ï¼‰ã€‚</li>
</ul>
<blockquote>
<p>ä¸‹å›¾æ¯”è¾ƒæ¸…æ™°åœ°å‘ˆç°äº†åˆ‡ç‰‡å’Œæ•°æ®ä¹‹é—´çš„å…³ç³»ï¼š
<img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/16%EF%BD%9C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9AVecT%E3%80%81%5BT%5D%E3%80%81Box%5BT%5D%20%EF%BC%8C%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8%E4%B9%88%EF%BC%9F-4866674.jpg" alt="åˆ‡ç‰‡å’Œæ•°æ®ä¹‹é—´çš„å…³ç³»" /></p>
</blockquote>
</div>
</details>
<h2 id="vect-å’Œ-t"><a class="header" href="#vect-å’Œ-t">Vec&lt;T&gt; å’Œ &amp;[T]</a></h2>
<details id="admonition-tä¸vectå…³ç³»" class="admonition tip">
<summary class="admonition-title">
<p>&amp;[T]ä¸&amp;Vec[T]å…³ç³»</p>
<p><a class="admonition-anchor-link" href="#admonition-tä¸vectå…³ç³»"></a></p>
</summary>
<div>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/16%EF%BD%9C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9AVecT%E3%80%81%5BT%5D%E3%80%81Box%5BT%5D%20%EF%BC%8C%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8%E4%B9%88%EF%BC%9F-4785147.jpg" alt="äºŒè€…å…³ç³»å›¾" /></p>
</div>
</details>
<h2 id="è§£å¼•ç”¨è½¬ä¸ºåˆ‡ç‰‡ç±»å‹"><a class="header" href="#è§£å¼•ç”¨è½¬ä¸ºåˆ‡ç‰‡ç±»å‹">è§£å¼•ç”¨ï¼šè½¬ä¸ºåˆ‡ç‰‡ç±»å‹</a></h2>
<blockquote>
<p>åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæ”¯æŒåˆ‡ç‰‡çš„å…·ä½“æ•°æ®ç±»å‹ï¼Œä½ å¯ä»¥æ ¹æ®éœ€è¦ï¼Œè§£å¼•ç”¨è½¬æ¢æˆåˆ‡ç‰‡ç±»å‹ã€‚</p>
</blockquote>
<ul>
<li>æ¯”å¦‚ Vec<T> å’Œ [T; n] ä¼šè½¬åŒ–æˆä¸º &amp;[T]ï¼Œè¿™æ˜¯å› ä¸º Vec<T> å®ç°äº† Deref traitï¼Œè€Œ array å†…å»ºäº†åˆ° &amp;[T] çš„è§£å¼•ç”¨ã€‚</li>
</ul>
<details id="admonition-derefasrefæˆ‘ä»¬å¯ä»¥å†™ä¸€æ®µä»£ç éªŒè¯è¿™ä¸€è¡Œä¸ºä»£ç " class="admonition info">
<summary class="admonition-title">
<p>Derefã€&amp;ã€AsRefï¼šæˆ‘ä»¬å¯ä»¥å†™ä¸€æ®µä»£ç éªŒè¯è¿™ä¸€è¡Œä¸ºï¼ˆä»£ç ï¼‰</p>
<p><a class="admonition-anchor-link" href="#admonition-derefasrefæˆ‘ä»¬å¯ä»¥å†™ä¸€æ®µä»£ç éªŒè¯è¿™ä¸€è¡Œä¸ºä»£ç "></a></p>
</summary>
<div>
<pre><pre class="playground"><code class="language-rust  editable">
use std::fmt;
fn main() {
    let v = vec![1, 2, 3, 4];

    // Vec å®ç°äº† Derefï¼Œ&amp;Vec&lt;T&gt; ä¼šè¢«è‡ªåŠ¨è§£å¼•ç”¨ä¸º &amp;[T]ï¼Œç¬¦åˆæ¥å£å®šä¹‰
    print_slice(&amp;v);
    // ç›´æ¥æ˜¯ &amp;[T]ï¼Œç¬¦åˆæ¥å£å®šä¹‰
    print_slice(&amp;v[..]);

    // &amp;Vec&lt;T&gt; æ”¯æŒ AsRef&lt;[T]&gt;
    print_slice1(&amp;v);
    // &amp;[T] æ”¯æŒ AsRef&lt;[T]&gt;
    print_slice1(&amp;v[..]);
    // Vec&lt;T&gt; ä¹Ÿæ”¯æŒ AsRef&lt;[T]&gt;
    print_slice1(v);

    let arr = [1, 2, 3, 4];
    // æ•°ç»„è™½æ²¡æœ‰å®ç° Derefï¼Œä½†å®ƒçš„è§£å¼•ç”¨å°±æ˜¯ &amp;[T]
    print_slice(&amp;arr);
    print_slice(&amp;arr[..]);
    print_slice1(&amp;arr);
    print_slice1(&amp;arr[..]);
    print_slice1(arr);
}

// æ³¨æ„ä¸‹é¢çš„æ³›å‹å‡½æ•°çš„ä½¿ç”¨
fn print_slice&lt;T: fmt::Debug&gt;(s: &amp;[T]) {
    println!(&quot;{:?}&quot;, s);
}

fn print_slice1&lt;T, U&gt;(s: T)
where
    T: AsRef&lt;[U]&gt;,
    U: fmt::Debug,
{
    println!(&quot;{:?}&quot;, s.as_ref());
}
</code></pre></pre>
</div>
</details>
<blockquote>
<p>è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œé€šè¿‡è§£å¼•ç”¨ï¼Œè¿™å‡ ä¸ªå’Œåˆ‡ç‰‡æœ‰å…³çš„æ•°æ®ç»“æ„éƒ½ä¼šè·å¾—åˆ‡ç‰‡çš„æ‰€æœ‰èƒ½åŠ›ï¼ŒåŒ…æ‹¬ä¸‹åˆ—ä¸°å¯Œçš„åŠŸèƒ½ï¼š</p>
</blockquote>
<ul>
<li>binary_search</li>
<li>chunks</li>
<li>concat</li>
<li>contains</li>
<li>start_with</li>
<li>end_with</li>
<li>group_by</li>
<li>iter</li>
<li>join</li>
<li>sort</li>
<li>split</li>
<li>swap</li>
</ul>
<h2 id="åˆ‡ç‰‡å’Œè¿­ä»£å™¨-iterator"><a class="header" href="#åˆ‡ç‰‡å’Œè¿­ä»£å™¨-iterator">åˆ‡ç‰‡å’Œè¿­ä»£å™¨ Iterator</a></h2>
<details id="admonition-è¿­ä»£å™¨å¯ä»¥è¯´æ˜¯åˆ‡ç‰‡çš„å­ªç”Ÿå…„å¼Ÿ" class="admonition info">
<summary class="admonition-title">
<p>è¿­ä»£å™¨å¯ä»¥è¯´æ˜¯åˆ‡ç‰‡çš„å­ªç”Ÿå…„å¼Ÿ</p>
<p><a class="admonition-anchor-link" href="#admonition-è¿­ä»£å™¨å¯ä»¥è¯´æ˜¯åˆ‡ç‰‡çš„å­ªç”Ÿå…„å¼Ÿ"></a></p>
</summary>
<div>
<p>è¿­ä»£å™¨å¯ä»¥è¯´æ˜¯åˆ‡ç‰‡çš„å­ªç”Ÿå…„å¼Ÿ:</p>
<ul>
<li>åˆ‡ç‰‡æ˜¯é›†åˆæ•°æ®çš„è§†å›¾</li>
<li>è€Œè¿­ä»£å™¨å®šä¹‰äº†å¯¹é›†åˆæ•°æ®çš„å„ç§å„æ ·çš„è®¿é—®æ“ä½œã€‚</li>
</ul>
</div>
</details>
<details id="admonition-iterator-trait-æœ‰å¤§é‡çš„æ–¹æ³•ä½†ç»å¤§å¤šæ•°æƒ…å†µä¸‹åªéœ€è¦å®šä¹‰å®ƒçš„å…³è”ç±»å‹-item-å’Œ-next-æ–¹æ³•" class="admonition info">
<summary class="admonition-title">
<p>Iterator trait æœ‰å¤§é‡çš„æ–¹æ³•ï¼Œä½†ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªéœ€è¦å®šä¹‰å®ƒçš„å…³è”ç±»å‹ Item å’Œ next() æ–¹æ³•ã€‚</p>
<p><a class="admonition-anchor-link" href="#admonition-iterator-trait-æœ‰å¤§é‡çš„æ–¹æ³•ä½†ç»å¤§å¤šæ•°æƒ…å†µä¸‹åªéœ€è¦å®šä¹‰å®ƒçš„å…³è”ç±»å‹-item-å’Œ-next-æ–¹æ³•"></a></p>
</summary>
<div>
<ul>
<li>Item å®šä¹‰äº†æ¯æ¬¡æˆ‘ä»¬ä»è¿­ä»£å™¨ä¸­å–å‡ºçš„æ•°æ®ç±»å‹ï¼›</li>
<li>next() æ˜¯ä»è¿­ä»£å™¨é‡Œå–ä¸‹ä¸€ä¸ªå€¼çš„æ–¹æ³•ã€‚å½“ä¸€ä¸ªè¿­ä»£å™¨çš„ next() æ–¹æ³•è¿”å› None æ—¶ï¼Œè¡¨æ˜è¿­ä»£å™¨ä¸­æ²¡æœ‰æ•°æ®äº†ã€‚</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span>
<span class="boring">fn main() {
</span>#[must_use = &quot;iterators are lazy and do nothing unless consumed&quot;]
pub trait Iterator {
    type Item;
    fn next(&amp;mut self) -&gt; Option&lt;Self::Item&gt;;
    // å¤§é‡ç¼ºçœçš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ size_hint, count, chain, zip, map, 
    // filter, for_each, skip, take_while, flat_map, flatten
    // collect, partition ç­‰
    ... 
}
<span class="boring">}
</span></code></pre></pre>
</div>
</details>
<details id="admonition-ä¸€ä¸ªä¾‹å­å¯¹åˆ‡ç‰‡ç±»å‹vec-ä½¿ç”¨-iter-æ–¹æ³•å¹¶è¿›è¡Œå„ç§-map--filter--take-æ“ä½œ" class="admonition info">
<summary class="admonition-title">
<p>ä¸€ä¸ªä¾‹å­ï¼šå¯¹åˆ‡ç‰‡ç±»å‹Vec<T> ä½¿ç”¨ iter() æ–¹æ³•ï¼Œå¹¶è¿›è¡Œå„ç§ map / filter / take æ“ä½œ</p>
<p><a class="admonition-anchor-link" href="#admonition-ä¸€ä¸ªä¾‹å­å¯¹åˆ‡ç‰‡ç±»å‹vec-ä½¿ç”¨-iter-æ–¹æ³•å¹¶è¿›è¡Œå„ç§-map--filter--take-æ“ä½œ"></a></p>
</summary>
<div>
<blockquote>
<p>åœ¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œè¿™æ ·çš„å†™æ³•å¾ˆå¸¸è§ï¼Œä»£ç çš„å¯è¯»æ€§å¾ˆå¼ºã€‚Rust ä¹Ÿæ”¯æŒè¿™ç§å†™æ³•ï¼ˆä»£ç ï¼‰ï¼š</p>
</blockquote>
<pre><pre class="playground"><code class="language-rust">
fn main() {
    // è¿™é‡Œ Vec&lt;T&gt; åœ¨è°ƒç”¨ iter() æ—¶è¢«è§£å¼•ç”¨æˆ &amp;[T]ï¼Œæ‰€ä»¥å¯ä»¥è®¿é—® iter()
    let result = vec![1, 2, 3, 4]
        .iter()
        .map(|v| v * v)
        .filter(|v| *v &lt; 16)
        .take(1)
        .collect::&lt;Vec&lt;_&gt;&gt;();

    println!(&quot;{:?}&quot;, result);
}
</code></pre></pre>
</div>
</details>
<details id="admonition-rustçš„è¿­ä»£å™¨æ˜¯ä¸ªæ‡’æ¥å£è¿™æ˜¯å¦‚ä½•å®ç°çš„" class="admonition question">
<summary class="admonition-title">
<p>Rustçš„è¿­ä»£å™¨æ˜¯ä¸ªæ‡’æ¥å£ï¼Œè¿™æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p>
<p><a class="admonition-anchor-link" href="#admonition-rustçš„è¿­ä»£å™¨æ˜¯ä¸ªæ‡’æ¥å£è¿™æ˜¯å¦‚ä½•å®ç°çš„"></a></p>
</summary>
<div>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ Rust ä¸‹çš„è¿­ä»£å™¨æ˜¯ä¸ªæ‡’æ¥å£ï¼ˆlazy interfaceï¼‰:</p>
<ol>
<li>ä¹Ÿå°±æ˜¯è¯´è¿™æ®µä»£ç ç›´åˆ°è¿è¡Œåˆ° collect æ—¶æ‰çœŸæ­£å¼€å§‹æ‰§è¡Œ</li>
<li>ä¹‹å‰çš„éƒ¨åˆ†ä¸è¿‡æ˜¯åœ¨ä¸æ–­åœ°ç”Ÿæˆæ–°çš„ç»“æ„ï¼Œæ¥ç´¯ç§¯å¤„ç†é€»è¾‘è€Œå·²ã€‚</li>
</ol>
<p>ä½ å¯èƒ½å¥½å¥‡ï¼Œè¿™æ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿ</p>
<p>åŸæ¥ï¼ŒIterator å¤§éƒ¨åˆ†æ–¹æ³•éƒ½è¿”å›ä¸€ä¸ªå®ç°äº† Iterator çš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥å¯ä»¥è¿™æ ·ä¸€è·¯é“¾å¼ä¸‹å».</p>
<p>åœ¨ Rust æ ‡å‡†åº“ä¸­ï¼Œè¿™äº›æ•°æ®ç»“æ„è¢«ç§°ä¸º <a href="https://doc.rust-lang.org/src/core/iter/adapters/mod.rs.html">Iterator Adapter</a>ã€‚</p>
<p>æ¯”å¦‚ä¸Šé¢çš„ map æ–¹æ³•ï¼Œå®ƒè¿”å› Map ç»“æ„ï¼Œè€Œ Map ç»“æ„å®ç°äº† <a href="https://doc.rust-lang.org/src/core/iter/adapters/map.rs.html#93-133">Iteratorï¼ˆæºç ï¼‰</a>ã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼ˆé“¾æ¥å‡ä¸ºæºç èµ„æ–™ï¼‰ï¼š</p>
<ol>
<li>åœ¨ collect() æ‰§è¡Œçš„æ—¶å€™ï¼Œå®ƒ<a href="https://doc.rust-lang.org/src/core/iter/traits/iterator.rs.html#1744-1749">å®é™…è¯•å›¾ä½¿ç”¨ FromIterator ä»è¿­ä»£å™¨ä¸­æ„å»ºä¸€ä¸ªé›†åˆç±»å‹</a>ï¼Œè¿™ä¼šä¸æ–­è°ƒç”¨ next() è·å–ä¸‹ä¸€ä¸ªæ•°æ®ï¼›</li>
<li>æ­¤æ—¶çš„ Iterator æ˜¯ Takeï¼ŒTake è°ƒè‡ªå·±çš„ next()ï¼Œä¹Ÿå°±æ˜¯å®ƒä¼š<a href="https://doc.rust-lang.org/src/core/iter/adapters/take.rs.html#34-41">è°ƒç”¨ Filter çš„ next()</a>ï¼›</li>
<li>Filter çš„ next() å®é™…ä¸Š<a href="https://time.geekbang.org/column/article/422975">è°ƒç”¨è‡ªå·±å†…éƒ¨çš„ iter çš„ find()</a>ï¼Œæ­¤æ—¶å†…éƒ¨çš„ iter æ˜¯ Mapï¼Œfind() ä¼šä½¿ç”¨ <a href="https://doc.rust-lang.org/src/core/iter/traits/iterator.rs.html#2312-2325">try_fold()</a>ï¼Œå®ƒä¼š<a href="https://doc.rust-lang.org/src/core/iter/traits/iterator.rs.html#2382-2406">ç»§ç»­è°ƒç”¨ next()</a>ï¼Œä¹Ÿå°±æ˜¯ Map çš„ next()ï¼›</li>
<li>Map çš„ next() ä¼š<a href="https://time.geekbang.org/column/article/422975">è°ƒç”¨å…¶å†…éƒ¨çš„ iter å– next() ç„¶åæ‰§è¡Œ map å‡½æ•°</a>ã€‚è€Œæ­¤æ—¶å†…éƒ¨çš„ iter æ¥è‡ª Vec<i32>ã€‚</li>
</ol>
<p>æ‰€ä»¥ï¼Œåªæœ‰åœ¨ collect() æ—¶ï¼Œæ‰è§¦å‘ä»£ç ä¸€å±‚å±‚è°ƒç”¨ä¸‹å»ï¼Œå¹¶ä¸”è°ƒç”¨ä¼šæ ¹æ®éœ€è¦éšæ—¶ç»“æŸã€‚è¿™æ®µä»£ç ä¸­æˆ‘ä»¬ä½¿ç”¨äº† take(1)ï¼Œæ•´ä¸ªè°ƒç”¨é“¾å¾ªç¯ä¸€æ¬¡ï¼Œå°±èƒ½æ»¡è¶³ take(1) ä»¥åŠæ‰€æœ‰ä¸­é—´è¿‡ç¨‹çš„è¦æ±‚ï¼Œæ‰€ä»¥å®ƒåªä¼šå¾ªç¯ä¸€æ¬¡ã€‚</p>
</div>
</details>
<details id="admonition-rustçš„å‡½æ•°å¼ç¼–ç¨‹å†™æ³•æ€§èƒ½å¦‚ä½•" class="admonition question">
<summary class="admonition-title">
<p>Rustçš„å‡½æ•°å¼ç¼–ç¨‹å†™æ³•æ€§èƒ½å¦‚ä½•ï¼Ÿ</p>
<p><a class="admonition-anchor-link" href="#admonition-rustçš„å‡½æ•°å¼ç¼–ç¨‹å†™æ³•æ€§èƒ½å¦‚ä½•"></a></p>
</summary>
<div>
<p>ä½ å¯èƒ½ä¼šæœ‰ç–‘æƒ‘ï¼šè¿™ç§å‡½æ•°å¼ç¼–ç¨‹çš„å†™æ³•ï¼Œä»£ç æ˜¯æ¼‚äº®äº†ï¼Œç„¶è€Œè¿™ä¹ˆå¤šæ— è°“çš„å‡½æ•°è°ƒç”¨ï¼Œæ€§èƒ½è‚¯å®šå¾ˆå·®å§ï¼Ÿæ¯•ç«Ÿï¼Œå‡½æ•°å¼ç¼–ç¨‹è¯­è¨€çš„ä¸€å¤§æ¶åå°±æ˜¯æ€§èƒ½å·®ã€‚</p>
<p>è¿™ä¸ªä½ å®Œå…¨ä¸ç”¨æ‹…å¿ƒï¼Œ Rust å¤§é‡ä½¿ç”¨äº† inline ç­‰ä¼˜åŒ–æŠ€å·§ï¼Œè¿™æ ·éå¸¸æ¸…æ™°å‹å¥½çš„è¡¨è¾¾æ–¹å¼ï¼Œæ€§èƒ½å’Œ C è¯­è¨€çš„ for å¾ªç¯å·®åˆ«ä¸å¤§ã€‚</p>
</div>
</details>
<details id="admonition-ä¸pythonç±»ä¼¼rustçš„iteratoré™¤äº†æ ‡å‡†åº“è¿˜æœ‰itertoolsæä¾›æ›´å¤šåŠŸèƒ½" class="admonition info">
<summary class="admonition-title">
<p>ä¸Pythonç±»ä¼¼ï¼ŒRustçš„iteratoré™¤äº†æ ‡å‡†åº“ï¼Œè¿˜æœ‰itertoolsæä¾›æ›´å¤šåŠŸèƒ½</p>
<p><a class="admonition-anchor-link" href="#admonition-ä¸pythonç±»ä¼¼rustçš„iteratoré™¤äº†æ ‡å‡†åº“è¿˜æœ‰itertoolsæä¾›æ›´å¤šåŠŸèƒ½"></a></p>
</summary>
<div>
<p>å¦‚æœæ ‡å‡†åº“ä¸­çš„åŠŸèƒ½è¿˜ä¸èƒ½æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½ å¯ä»¥çœ‹çœ‹ itertoolsï¼Œå®ƒæ˜¯å’Œ Python ä¸‹ itertools åŒåä¸”åŠŸèƒ½ç±»ä¼¼çš„å·¥å…·ï¼Œæä¾›äº†å¤§é‡é¢å¤–çš„ adapterã€‚å¯ä»¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼ˆä»£ç ï¼‰ï¼š</p>
<pre><pre class="playground"><code class="language-rust  editable">
use itertools::Itertools;

fn main() {
    let err_str = &quot;bad happened&quot;;
    let input = vec![Ok(21), Err(err_str), Ok(7)];
    let it = input
        .into_iter()
        .filter_map_ok(|i| if i &gt; 10 { Some(i * 2) } else { None });
    // ç»“æœåº”è¯¥æ˜¯ï¼švec![Ok(42), Err(err_str)]
    println!(&quot;{:?}&quot;, it.collect::&lt;Vec&lt;_&gt;&gt;());
}
</code></pre></pre>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä»ä¸€ç»„ Future ä¸­æ±‡èšå‡ºä¸€ç»„ç»“æœï¼Œé‡Œé¢æœ‰æˆåŠŸæ‰§è¡Œçš„ç»“æœï¼Œä¹Ÿæœ‰å¤±è´¥çš„é”™è¯¯ä¿¡æ¯ã€‚</p>
<p>å¦‚æœæƒ³å¯¹æˆåŠŸçš„ç»“æœè¿›ä¸€æ­¥åš filter/mapï¼Œé‚£ä¹ˆæ ‡å‡†åº“å°±æ— æ³•å¸®å¿™äº†ï¼Œå°±éœ€è¦ç”¨ itertools é‡Œçš„ filter_map_ok()ã€‚</p>
</div>
</details>
<h2 id="ç‰¹æ®Šçš„åˆ‡ç‰‡str"><a class="header" href="#ç‰¹æ®Šçš„åˆ‡ç‰‡str">ç‰¹æ®Šçš„åˆ‡ç‰‡ï¼š&amp;str</a></h2>
<details id="admonition-stringstringå’Œstrçš„åŒºåˆ«ä¸è”ç³»" class="admonition info">
<summary class="admonition-title">
<p>Stringã€&amp;Stringå’Œ&amp;strçš„åŒºåˆ«ä¸è”ç³»</p>
<p><a class="admonition-anchor-link" href="#admonition-stringstringå’Œstrçš„åŒºåˆ«ä¸è”ç³»"></a></p>
</summary>
<div>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ç§ç‰¹æ®Šçš„åˆ‡ç‰‡ï¼š&amp;strã€‚ä¹‹å‰è®²è¿‡ï¼ŒString æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ Vec<u8>ï¼Œæ‰€ä»¥åœ¨ String ä¸Šåšåˆ‡ç‰‡ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç»“æ„ &amp;strã€‚</p>
<p>å¯¹äº Stringã€&amp;Stringã€&amp;strï¼Œå¾ˆå¤šäººä¹Ÿç»å¸¸åˆ†ä¸æ¸…å®ƒä»¬çš„åŒºåˆ«.</p>
<p>åœ¨&amp;strã€‚å¯¹äº &amp;String å’Œ &amp;strï¼Œå¦‚æœä½ ç†è§£äº†ä¸Šæ–‡ä¸­ &amp;Vec<T> å’Œ &amp;[T] çš„åŒºåˆ«ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼š</p>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/16%EF%BD%9C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9AVecT%E3%80%81%5BT%5D%E3%80%81Box%5BT%5D%20%EF%BC%8C%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8%E4%B9%88%EF%BC%9F-4867212.jpg" alt="&amp;Stringå’Œ&amp;str" /></p>
</div>
</details>
<details id="admonition-stringåœ¨è§£å¼•ç”¨æ—¶ä¼šè½¬æ¢æˆstr" class="admonition info">
<summary class="admonition-title">
<p>Stringåœ¨è§£å¼•ç”¨æ—¶ä¼šè½¬æ¢æˆ&amp;str</p>
<p><a class="admonition-anchor-link" href="#admonition-stringåœ¨è§£å¼•ç”¨æ—¶ä¼šè½¬æ¢æˆstr"></a></p>
</summary>
<div>
<p>å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç éªŒè¯ï¼ˆä»£ç ï¼‰ï¼š</p>
<pre><pre class="playground"><code class="language-rust  editable">
use std::fmt;
fn main() {
    let s = String::from(&quot;hello&quot;);
    // &amp;String ä¼šè¢«è§£å¼•ç”¨æˆ &amp;str
    print_slice(&amp;s);
    // &amp;s[..] å’Œ s.as_str() ä¸€æ ·ï¼Œéƒ½ä¼šå¾—åˆ° &amp;str
    print_slice(&amp;s[..]);

    // String æ”¯æŒ AsRef&lt;str&gt;
    print_slice1(&amp;s);
    print_slice1(&amp;s[..]);
    print_slice1(s.clone());

    // String ä¹Ÿå®ç°äº† AsRef&lt;[u8]&gt;ï¼Œæ‰€ä»¥ä¸‹é¢çš„ä»£ç æˆç«‹
    // æ‰“å°å‡ºæ¥æ˜¯ [104, 101, 108, 108, 111]
    print_slice2(&amp;s);
    print_slice2(&amp;s[..]);
    print_slice2(s);
}

fn print_slice(s: &amp;str) {
    println!(&quot;{:?}&quot;, s);
}

fn print_slice1&lt;T: AsRef&lt;str&gt;&gt;(s: T) {
    println!(&quot;{:?}&quot;, s.as_ref());
}

fn print_slice2&lt;T, U&gt;(s: T)
where
    T: AsRef&lt;[U]&gt;,
    U: fmt::Debug,
{
    println!(&quot;{:?}&quot;, s.as_ref());
}
</code></pre></pre>
</div>
</details>
<details id="admonition-å­—ç¬¦çš„åˆ—è¡¨arrayå’Œå­—ç¬¦ä¸²stringæœ‰ä»€ä¹ˆå…³ç³»å’ŒåŒºåˆ«" class="admonition question">
<summary class="admonition-title">
<p>å­—ç¬¦çš„åˆ—è¡¨arrayå’Œå­—ç¬¦ä¸²Stringæœ‰ä»€ä¹ˆå…³ç³»å’ŒåŒºåˆ«</p>
<p><a class="admonition-anchor-link" href="#admonition-å­—ç¬¦çš„åˆ—è¡¨arrayå’Œå­—ç¬¦ä¸²stringæœ‰ä»€ä¹ˆå…³ç³»å’ŒåŒºåˆ«"></a></p>
</summary>
<div>
<p>æˆ‘ä»¬ç›´æ¥å†™ä¸€æ®µä»£ç æ¥çœ‹çœ‹ï¼š</p>
<pre><pre class="playground"><code class="language-rust  editable">
use std::iter::FromIterator;

fn main() {
    let arr = ['h', 'e', 'l', 'l', 'o'];
    let vec = vec!['h', 'e', 'l', 'l', 'o'];
    let s = String::from(&quot;hello&quot;);
    let s1 = &amp;arr[1..3];
    let s2 = &amp;vec[1..3];
    // &amp;str æœ¬èº«å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ slice
    let s3 = &amp;s[1..3];
    println!(&quot;s1: {:?}, s2: {:?}, s3: {:?}&quot;, s1, s2, s3);

    // &amp;[char] å’Œ &amp;[char] æ˜¯å¦ç›¸ç­‰å–å†³äºé•¿åº¦å’Œå†…å®¹æ˜¯å¦ç›¸ç­‰
    assert_eq!(s1, s2);
    // &amp;[char] å’Œ &amp;str ä¸èƒ½ç›´æ¥å¯¹æ¯”ï¼Œæˆ‘ä»¬æŠŠ s3 å˜æˆ Vec&lt;char&gt;
    assert_eq!(s2, s3.chars().collect::&lt;Vec&lt;_&gt;&gt;());
    // &amp;[char] å¯ä»¥é€šè¿‡è¿­ä»£å™¨è½¬æ¢æˆ Stringï¼ŒString å’Œ &amp;str å¯ä»¥ç›´æ¥å¯¹æ¯”
    assert_eq!(String::from_iter(s2), s3);
}
</code></pre></pre>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå­—ç¬¦åˆ—è¡¨å¯ä»¥é€šè¿‡è¿­ä»£å™¨è½¬æ¢æˆ Stringï¼ŒString ä¹Ÿå¯ä»¥é€šè¿‡ chars() å‡½æ•°è½¬æ¢æˆå­—ç¬¦åˆ—è¡¨ï¼Œå¦‚æœä¸è½¬æ¢ï¼ŒäºŒè€…ä¸èƒ½æ¯”è¾ƒã€‚</p>
</blockquote>
</div>
</details>
<details id="admonition-ä¸‹å›¾æŠŠæ•°ç»„åˆ—è¡¨å­—ç¬¦ä¸²ä»¥åŠå®ƒä»¬çš„åˆ‡ç‰‡æ”¾åœ¨ä¸€èµ·æ¯”è¾ƒå¯ä»¥æ›´å¥½åœ°ç†è§£å®ƒä»¬çš„åŒºåˆ«" class="admonition info">
<summary class="admonition-title">
<p>ä¸‹å›¾æŠŠæ•°ç»„ã€åˆ—è¡¨ã€å­—ç¬¦ä¸²ä»¥åŠå®ƒä»¬çš„åˆ‡ç‰‡æ”¾åœ¨ä¸€èµ·æ¯”è¾ƒï¼Œå¯ä»¥æ›´å¥½åœ°ç†è§£å®ƒä»¬çš„åŒºåˆ«ï¼š</p>
<p><a class="admonition-anchor-link" href="#admonition-ä¸‹å›¾æŠŠæ•°ç»„åˆ—è¡¨å­—ç¬¦ä¸²ä»¥åŠå®ƒä»¬çš„åˆ‡ç‰‡æ”¾åœ¨ä¸€èµ·æ¯”è¾ƒå¯ä»¥æ›´å¥½åœ°ç†è§£å®ƒä»¬çš„åŒºåˆ«"></a></p>
</summary>
<div>
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/16%EF%BD%9C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9AVecT%E3%80%81%5BT%5D%E3%80%81Box%5BT%5D%20%EF%BC%8C%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8%E4%B9%88%EF%BC%9F-4867332.jpg" alt="æ•°ç»„ã€åˆ—è¡¨ã€å­—ç¬¦ä¸²å’Œå„è‡ªçš„åˆ‡ç‰‡" /></p>
</div>
</details>
<h2 id="boxt"><a class="header" href="#boxt">Box&lt;[T]&gt;</a></h2>
<details id="admonition-boxå’Œvectå¯¹æ¯”" class="admonition info">
<summary class="admonition-title">
<p>Box&lt;[T]&gt;å’ŒVec<T>&amp;[T]å¯¹æ¯”</p>
<p><a class="admonition-anchor-link" href="#admonition-boxå’Œvectå¯¹æ¯”"></a></p>
</summary>
<div>
<p>åˆ‡ç‰‡ä¸»è¦æœ‰ä¸‰ç§ä½¿ç”¨æ–¹å¼ï¼š</p>
<ul>
<li>åˆ‡ç‰‡çš„åªè¯»å¼•ç”¨ &amp;[T]</li>
<li>åˆ‡ç‰‡çš„å¯å˜å¼•ç”¨ &amp;mut [T]: å’Œ&amp;[T]ç±»ä¼¼</li>
<li>Box&lt;[T]&gt;</li>
</ul>
<p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹çœ‹ Box&lt;[T]&gt;ã€‚</p>
<p>Box&lt;[T]&gt; æ˜¯ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„å­˜åœ¨ï¼Œå®ƒå’Œ Vec<T> æœ‰ä¸€ç‚¹ç‚¹å·®åˆ«ï¼š</p>
<ul>
<li>Vec<T> æœ‰é¢å¤–çš„ capacityï¼Œå¯ä»¥å¢é•¿ï¼›</li>
<li>è€Œ Box&lt;[T]&gt; ä¸€æ—¦ç”Ÿæˆå°±å›ºå®šä¸‹æ¥ï¼Œæ²¡æœ‰ capacityï¼Œä¹Ÿæ— æ³•å¢é•¿ã€‚</li>
</ul>
<p>Box&lt;[T]&gt; å’Œåˆ‡ç‰‡çš„å¼•ç”¨ &amp;[T] ä¹Ÿå¾ˆç±»ä¼¼ï¼š</p>
<ol>
<li>å®ƒä»¬éƒ½æ˜¯åœ¨æ ˆä¸Šæœ‰ä¸€ä¸ªåŒ…å«é•¿åº¦çš„èƒ–æŒ‡é’ˆï¼ŒæŒ‡å‘å­˜å‚¨æ•°æ®çš„å†…å­˜ä½ç½®ã€‚</li>
<li>åŒºåˆ«æ˜¯ï¼šBox&lt;[T]&gt; åªä¼šæŒ‡å‘å †ï¼Œ&amp;[T] æŒ‡å‘çš„ä½ç½®å¯ä»¥æ˜¯æ ˆä¹Ÿå¯ä»¥æ˜¯å †ï¼›</li>
<li>æ­¤å¤–ï¼ŒBox&lt;[T]&gt; å¯¹æ•°æ®å…·æœ‰æ‰€æœ‰æƒï¼Œè€Œ &amp;[T] åªæ˜¯ä¸€ä¸ªå€Ÿç”¨ã€‚</li>
</ol>
<hr />
<p><img src="https://raw.githubusercontent.com/KuanHsiaoKuo/writing_materials/main/imgs/16%EF%BD%9C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9AVecT%E3%80%81%5BT%5D%E3%80%81Box%5BT%5D%20%EF%BC%8C%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3%E9%9B%86%E5%90%88%E5%AE%B9%E5%99%A8%E4%B9%88%EF%BC%9F-4867436.jpg" alt="" /></p>
</div>
</details>
<details id="admonition-é‚£ä¹ˆå¦‚ä½•äº§ç”Ÿ-box-å‘¢" class="admonition question">
<summary class="admonition-title">
<p>é‚£ä¹ˆå¦‚ä½•äº§ç”Ÿ Box&lt;[T]&gt; å‘¢ï¼Ÿ</p>
<p><a class="admonition-anchor-link" href="#admonition-é‚£ä¹ˆå¦‚ä½•äº§ç”Ÿ-box-å‘¢"></a></p>
</summary>
<div>
<blockquote>
<p>ç›®å‰å¯ç”¨çš„æ¥å£å°±åªæœ‰ä¸€ä¸ªï¼šä»å·²æœ‰çš„ Vec<T> ä¸­è½¬æ¢ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬çœ‹ä»£ç ï¼š</p>
<pre><pre class="playground"><code class="language-rust  editable">
use std::ops::Deref;

fn main() {
    let mut v1 = vec![1, 2, 3, 4];
    v1.push(5);
    println!(&quot;cap should be 8: {}&quot;, v1.capacity());

    // ä» Vec&lt;T&gt; è½¬æ¢æˆ Box&lt;[T]&gt;ï¼Œæ­¤æ—¶ä¼šä¸¢å¼ƒå¤šä½™çš„ capacity
    let b1 = v1.into_boxed_slice();
    let mut b2 = b1.clone();

    let v2 = b1.into_vec();
    println!(&quot;cap should be exactly 5: {}&quot;, v2.capacity());

    assert!(b2.deref() == v2);

    // Box&lt;[T]&gt; å¯ä»¥æ›´æ”¹å…¶å†…éƒ¨æ•°æ®ï¼Œä½†æ— æ³• push
    b2[0] = 2;
    // b2.push(6);
    println!(&quot;b2: {:?}&quot;, b2);

    // æ³¨æ„ Box&lt;[T]&gt; å’Œ Box&lt;[T; n]&gt; å¹¶ä¸ç›¸åŒ
    let b3 = Box::new([2, 2, 3, 4, 5]);
    println!(&quot;b3: {:?}&quot;, b3);

    // b2 å’Œ b3 ç›¸ç­‰ï¼Œä½† b3.deref() å’Œ v2 æ— æ³•æ¯”è¾ƒ
    assert!(b2 == b3);
    // assert!(b3.deref() == v2);
}
</code></pre></pre>
<hr />
<blockquote>
<p>è¿è¡Œä»£ç å¯ä»¥çœ‹åˆ°:</p>
</blockquote>
<ol>
<li>Vec<T> å¯ä»¥é€šè¿‡ into_boxed_slice() è½¬æ¢æˆ Box&lt;[T]&gt;</li>
<li>Box&lt;[T]&gt; ä¹Ÿå¯ä»¥é€šè¿‡ into_vec() è½¬æ¢å› Vec<T>ã€‚</li>
</ol>
<blockquote>
<p>è¿™ä¸¤ä¸ªè½¬æ¢éƒ½æ˜¯å¾ˆè½»é‡çš„è½¬æ¢ï¼Œåªæ˜¯å˜æ¢ä¸€ä¸‹ç»“æ„ï¼Œä¸æ¶‰åŠæ•°æ®çš„æ‹·è´ã€‚</p>
</blockquote>
<p>åŒºåˆ«æ˜¯:</p>
<ol>
<li>å½“ Vec<T> è½¬æ¢æˆ Box&lt;[T]&gt; æ—¶ï¼Œæ²¡æœ‰ä½¿ç”¨åˆ°çš„å®¹é‡å°±ä¼šè¢«ä¸¢å¼ƒï¼Œæ‰€ä»¥æ•´ä½“å ç”¨çš„å†…å­˜å¯èƒ½ä¼šé™ä½ã€‚</li>
<li>è€Œä¸” Box&lt;[T]&gt; æœ‰ä¸€ä¸ªå¾ˆå¥½çš„ç‰¹æ€§æ˜¯ï¼Œä¸åƒ Box&lt;[T;n]&gt; é‚£æ ·åœ¨ç¼–è¯‘æ—¶å°±è¦ç¡®å®šå¤§å°ï¼Œå®ƒå¯ä»¥åœ¨è¿è¡ŒæœŸç”Ÿæˆï¼Œä»¥åå¤§å°ä¸ä¼šå†æ”¹å˜ã€‚</li>
</ol>
<p>æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬éœ€è¦åœ¨å †ä¸Šåˆ›å»ºå›ºå®šå¤§å°çš„é›†åˆæ•°æ®ï¼Œä¸”ä¸å¸Œæœ›è‡ªåŠ¨å¢é•¿ï¼Œé‚£ä¹ˆï¼Œå¯ä»¥å…ˆåˆ›å»º Vec<T>ï¼Œå†è½¬æ¢æˆ Box&lt;[T]&gt;ã€‚</p>
<blockquote>
<p>tokio åœ¨æä¾› broadcast channel æ—¶ï¼Œå°±ä½¿ç”¨äº† Box&lt;[T]&gt; è¿™ä¸ªç‰¹æ€§ï¼Œä½ æ„Ÿå…´è¶£çš„è¯ï¼Œå¯ä»¥è‡ªå·±çœ‹çœ‹<a href="https://github.com/tokio-rs/tokio/blob/master/tokio/src/sync/broadcast.rs#L447">æºç </a>ã€‚</p>
</blockquote>
</div>
</details>

            </main>

            <!--            <script src="https://utteranc.es/client.js"-->
            <!--                    repo="RustMagazine/rust_magazine_2022"-->
            <!--                    issue-term="title"-->
            <!--                    theme="github-light"-->
            <!--                    crossorigin="anonymous"-->
            <!--                    async></script>-->

            <nav class="nav-wrapper" aria-label="Page navigation">
                <!-- Mobile navigation buttons -->
                    <a rel="prev" href="3_2_containers.html" class="mobile-nav-chapters previous"
                       title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="3_2_2_hashmap.html" class="mobile-nav-chapters next"
                       title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>

                <div style="clear: both"></div>
            </nav>
        </div>
    </div>

    <nav class="nav-wide-wrapper" aria-label="Page navigation">
            <a rel="prev" href="3_2_containers.html" class="nav-chapters previous" title="Previous chapter"
               aria-label="Previous chapter" aria-keyshortcuts="Left">
                <i class="fa fa-angle-left"></i>
            </a>

            <a rel="next" href="3_2_2_hashmap.html" class="nav-chapters next" title="Next chapter"
               aria-label="Next chapter" aria-keyshortcuts="Right">
                <i class="fa fa-angle-right"></i>
            </a>
    </nav>

</div>



    <script type="text/javascript">
        window.playground_line_numbers = true;
    </script>

    <script type="text/javascript">
        window.playground_copyable = true;
    </script>

    <script src="ace.js" type="text/javascript" charset="utf-8"></script>
    <script src="editor.js" type="text/javascript" charset="utf-8"></script>
    <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
    <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

    <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

<script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
<script src="highlight.js" type="text/javascript" charset="utf-8"></script>
<script src="book.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JS scripts -->
    <script type="text/javascript" src="assets/mermaid/mermaid.min.js"></script>
    <script type="text/javascript" src="assets/mermaid/mermaid-init.js"></script>
    <script type="text/javascript" src="assets/smart-anchor.js"></script>
    <script type="text/javascript" src="assets/pagetoc/sidebar.js"></script>

</body>
</html>
